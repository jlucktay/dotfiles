# Managed by chezmoi, so edit this file in the 'dotfiles' repo, not locally.
#
# This is Git's per-user configuration file.

[advice]
	addIgnoredFile = false

[color]
	branch = auto
	diff = auto
	status = auto
	ui = auto

[color "branch"]
	current = green reverse
	local = green
	plain = white
	remote = yellow
	upstream = blue

# Debian 10 -> git 2.20 apparently doesn't have bright colours, so we use bold there instead

[color "diff"]
	frag = magenta bold
{{- if eq .chezmoi.os "linux" }}
	func = blue bold
	new = green bold
	old = red bold
{{- else }}
	func = brightblue
	new = brightgreen
	old = brightred
{{- end }}
	newMoved = green
	oldMoved = red

[color "status"]
{{- if eq .chezmoi.os "linux" }}
	branch = magenta bold
	localBranch = magenta bold
	remoteBranch = magenta bold
{{- else }}
	branch = brightmagenta
	localBranch = brightmagenta
	remoteBranch = brightmagenta
{{- end }}
	changed = red
	header = white
	unmerged = blue
	untracked = yellow
	updated = green

[commit]
	gpgsign = true
	template = {{ .chezmoi.homeDir }}/.gitmessage

[core]
{{- if eq .chezmoi.os "windows" }}
	autocrlf = true
{{- else }}
	autocrlf = input
{{- end }}
	editor = nano
	pager = delta

[credential]
{{- if eq .chezmoi.os "darwin" }}
	helper = osxkeychain
{{- else if eq .chezmoi.os "linux" }}
	helper = cache
{{- end }}

[delta]
	navigate = true # use n and N to move between diff sections
	light = false   # set to true if you're in a terminal w/ a light background color (e.g. the default macOS terminal)

[diff]
	colorMoved = default
	renameLimit = 100000
	renames = copies

[help]
	autocorrect = 30

[http]
	cookiefile = {{ .chezmoi.homeDir }}/.gitcookies

[include]
	path = {{ .chezmoi.homeDir }}/.gitconfig.aliases

[interactive]
	diffFilter = delta --color-only
[add.interactive]
	useBuiltin = false # required for git 2.37.0

[merge]
	conflictstyle = diff3

[pull]
	rebase = false

[push]
	default = simple
	followTags = true

[stash]
	showPatch = true
	showStat = true

[user]
	name = James Lucktaylor
	useConfigOnly = true

# https://github.com/lyze/posh-git-sh#configuration-options
[bash]
	branchBehindAndAheadDisplay = full
	describeStyle = default
	enableFileStatus = true
	enableGitStatus = true
	enableStashStatus = true
	enableStatusSymbol = true
	showStatusWhenZero = false
	showUpstream = git

# https://hub.github.com/hub.1.html
[hub]
	protocol = https

[init]
	defaultBranch = main
